{% extends 'modal.html' %}

{% block modal_id %}modal{{ item.id }}{% endblock %}

{% block modal_title %}Return {{ item.name }} to Inventory{% endblock %}

{% block modal_body %}
  <form id="return-item-form-{{ item.id }}" method="post" action="{% url 'inventory_return_item'  %}">
    {% csrf_token %}
    <p>How many units of <strong>{{ item.name }}</strong> would you like to return?</p>
    <div class="mb-3">
      <label for="quantity" class="form-label">Quantity</label>
      <input type="number" class="form-control" id="quantity" name="quantity" min="1" max="{{ inv_item.quantity }}" value="1" required>
      <div class="form-text">Available to return: {{ inv_item.quantity }}</div>
      <input type="hidden" name="item_id" value="{{ inv_item.item.id }}">
    </div>
  </form>
{% endblock %}

{% block modal_footer %}
  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
  <button type="submit" class="btn btn-primary" form="return-item-form-{{ item.id }}">Return</button>
{% endblock %}