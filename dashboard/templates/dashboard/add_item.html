{% extends 'dashboard/base.html' %}
{% load static %}
{% block main %}
      <main class="main">
        <header class="topbar">
          <h1 class="h5 mb-0">Inventory Management System</h1>
        </header>

        <section class="content container-fluid px-3 px-lg-4 py-3">
          <a
            class="text-decoration-none d-inline-flex align-items-center mb-3"
            href="inventory.html"
          >
            <i class="bi bi-arrow-left me-2"></i> Back to Inventory
          </a>

          <div class="card">
            <div class="card-body">
              <h2 class="fs-3 mb-1">Add New Item</h2>
              <p class="text-secondary">
                Enter the details of the new inventory item
              </p>

              <form class="row g-3 add-item-form" method="POST">
                {% csrf_token %}
                {% if error %}
                  <div class="col-12">
                    <div class="alert alert-danger">{{ error }}</div>
                  </div>
                {% endif %}
                <div class="col-md-6">
                  <label class="form-label">Item Name *</label>
                  <input
                    name="name"
                    class="form-control"
                    placeholder="Wireless Mouse"
                    required
                  />
                </div>
                <div class="col-md-6">
                  <label class="form-label">SKU *</label>
                  <input
                    name="SKU"
                    class="form-control"
                    placeholder="ELEC-WM-001"
                    required
                  />
                </div>

                <div class="col-md-6">
                  <label class="form-label">Category *</label>
                  <select name="category" class="form-select" required>
                    <option value="" selected disabled>Select category</option>
                    <!-- Keep common static options for quick selection -->
                    <option value="Electronics">Electronics</option>
                    <option value="Accessories">Accessories</option>
                    <option value="Furniture">Furniture</option>
                    <option value="Office">Office</option>
                    <!-- Then include all categories from the database (use names as values) -->
                  </select>
                </div>
                <div class="col-md-6">
                  <label class="form-label">Location *</label>
                  <input
                    name="location"
                    class="form-control"
                    placeholder="Warehouse A - Shelf 12"
                    required
                  />
                </div>

                <div class="col-md-6">
                  <label class="form-label">Quantity *</label>
                  <input
                    name="in_stock"
                    type="number"
                    class="form-control"
                    placeholder="100"
                    required
                  />
                </div>
                <div class="col-md-6">
                  <label class="form-label">Minimum Quantity *</label>
                  <input
                    name="total_amount"
                    type="number"
                    class="form-control"
                    placeholder="20"
                    required
                  />
                </div>

                <div class="col-md-6">
                  <label class="form-label">Price ($) *</label>
                  <input
                    name="price"
                    type="number"
                    step="0.01"
                    class="form-control"
                    placeholder="24.99"
                    required
                  />
                </div>
                <div class="col-md-12">
                  <label class="form-label">Description</label>
                  <textarea
                    name="description"
                    class="form-control"
                    rows="3"
                    placeholder="Enter item description..."
                  ></textarea>
                </div>

                <div class="col-12 d-flex gap-2">
                  <button class="btn btn-primary">Add Item</button>
                  <a class="btn btn-outline-secondary" href="{% url 'dashboard_inventory' %}">Cancel</a>
                </div>
              </form>
            </div>
          </div>
        </section>
      </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js"></script>
    <script src="{% static 'dashboard/api.js' %}"></script>
    <script src="{% static 'dashboard/ui.js' %}"></script>
    <script src="{% static 'dashboard/app.js' %}"></script>
{% endblock %}